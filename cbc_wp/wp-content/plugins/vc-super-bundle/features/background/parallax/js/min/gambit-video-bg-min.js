function _vcRowGetAllElementsWithAttribute(t){for(var e=[],i=document.getElementsByTagName("*"),o=0,n=i.length;o<n;o++)i[o].getAttribute(t)&&e.push(i[o]);return e}function _vcRowOnPlayerReady(t){var e=t.target;e.playVideo(),e.mute(),e.forceHD&&e.setPlaybackQuality("hd720");var i=e.getCurrentTime(),o=+new Date/1e3,n=0,a=!0;e.loopInterval=setInterval(function(){"undefined"!=typeof e.loopTimeout&&clearTimeout(e.loopTimeout),i===e.getCurrentTime()?n=i+(+new Date/1e3-o):(n=e.getCurrentTime(),o=+new Date/1e3),i=e.getCurrentTime(),n+(a?.45:.21)>=e.getDuration()&&(e.pauseVideo(),e.seekTo(0),e.playVideo(),a=!1)},150)}function _vcRowOnPlayerStateChange(t){t.data===YT.PlayerState.ENDED&&("undefined"!=typeof t.target.loopTimeout&&clearTimeout(t.target.loopTimeout),t.target.seekTo(0)),t.data===YT.PlayerState.PLAYING&&jQuery(t.target.getIframe()).parent().css("visibility","visible")}function resizeVideo(t){var e=t.parent();if(null===e.find("iframe").width())return void setTimeout(function(){resizeVideo(t)},500);var i=t;i.css({width:"auto",height:"auto",left:"auto",top:"auto"}),i.css("position","absolute");var o,n,a=(e.find("iframe").width(),e.find("iframe").height(),e.width()),r=e.height(),d="16:9";"undefined"!=typeof t.attr("data-video-aspect-ratio")&&t.attr("data-video-aspect-ratio").indexOf(":")!==-1&&(d=t.attr("data-video-aspect-ratio").split(":"),d[0]=parseFloat(d[0]),d[1]=parseFloat(d[1])),n=r,o=d[0]/d[1]*r,o<a&&(n=d[1]/d[0]*a,o=a),marginLeft=-(o-a)/2,marginTop=-(n-r)/2,e.find("iframe").css({width:o,height:n,marginLeft:marginLeft,marginTop:marginTop}).attr("width",o).attr("height",n)}function onYouTubeIframeAPIReady(){for(var t=_vcRowGetAllElementsWithAttribute("data-youtube-video-id"),e=0;e<t.length;e++){for(var i=t[e].getAttribute("data-youtube-video-id"),o="",n=0;n<t[e].childNodes.length;n++)if(/div/i.test(t[e].childNodes[n].tagName)){o=t[e].childNodes[n].getAttribute("id");break}if(""!==o){var a=new YT.Player(o,{height:"auto",width:"auto",videoId:i,playerVars:{autohide:1,autoplay:1,fs:0,showinfo:0,loop:1,modestBranding:1,start:0,controls:0,rel:0,disablekb:1,iv_load_policy:3,wmode:"transparent"},events:{onReady:_vcRowOnPlayerReady,onStateChange:_vcRowOnPlayerStateChange}});a.isMute=!0,a.forceHD="true"===t[e].getAttribute("data-force-hd");var r=function(t){jQuery("#"+t).css("visibility","visible")}.bind(this,o);setTimeout(r,500)}}}var objectFitVideos=function(t){"use strict";function e(t){for(var e=getComputedStyle(t).fontFamily,i=null,o={};null!==(i=u.exec(e));)o[i[1]]=i[2];return o["object-position"]?n(o):o}function i(t){var i=-1;t?"length"in t||(t=[t]):t=document.querySelectorAll("video");for(;t[++i];){var n=e(t[i]);(n["object-fit"]||n["object-position"])&&(n["object-fit"]=n["object-fit"]||"fill",o(t[i],n))}}function o(t,e){function i(){var i=t.videoWidth,n=t.videoHeight,r=i/n,d=a.clientWidth,s=a.clientHeight,c=d/s,u=0,l=0;o.marginLeft=o.marginTop=0,(r<c?"contain"===e["object-fit"]:"cover"===e["object-fit"])?(u=s*r,l=d/r,o.width=Math.round(u)+"px",o.height=s+"px","left"===e["object-position-x"]?o.marginLeft=0:"right"===e["object-position-x"]?o.marginLeft=Math.round(d-u)+"px":o.marginLeft=Math.round((d-u)/2)+"px"):(l=d/r,o.width=d+"px",o.height=Math.round(l)+"px","top"===e["object-position-y"]?o.marginTop=0:"bottom"===e["object-position-y"]?o.marginTop=Math.round(s-l)+"px":o.marginTop=Math.round((s-l)/2)+"px"),t.autoplay&&t.play()}if("fill"!==e["object-fit"]){var o=t.style,n=window.getComputedStyle(t),a=document.createElement("object-fit");a.appendChild(t.parentNode.replaceChild(a,t));var r={height:"100%",width:"100%",boxSizing:"content-box",display:"inline-block",overflow:"hidden"};"backgroundColor backgroundImage borderColor borderStyle borderWidth bottom fontSize lineHeight left opacity margin position right top visibility".replace(/\w+/g,function(t){r[t]=n[t]});for(var d in r)a.style[d]=r[d];o.border=o.margin=o.padding=0,o.display="block",o.opacity=1,t.addEventListener("loadedmetadata",i),window.addEventListener("optimizedResize",i),t.readyState>=1&&(t.removeEventListener("loadedmetadata",i),i())}}function n(t){return~t["object-position"].indexOf("left")?t["object-position-x"]="left":~t["object-position"].indexOf("right")?t["object-position-x"]="right":t["object-position-x"]="center",~t["object-position"].indexOf("top")?t["object-position-y"]="top":~t["object-position"].indexOf("bottom")?t["object-position-y"]="bottom":t["object-position-y"]="center",t}function a(t,e,i){i=i||window;var o=!1,n=null;try{n=new CustomEvent(e)}catch(a){n=document.createEvent("Event"),n.initEvent(e,!0,!0)}var r=function(){o||(o=!0,requestAnimationFrame(function(){i.dispatchEvent(n),o=!1}))};i.addEventListener(t,r)}var r=navigator.userAgent.indexOf("Edge/")>=0,d=new Image,s="object-fit"in d.style&&!r,c="object-position"in d.style&&!r,u=/(object-fit|object-position)\s*:\s*([-\w\s%]+)/g;s&&c||(i(t),a("resize","optimizedResize"))};if("undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=objectFitVideos),document.querySelector("[data-youtube-video-id]")){var tag=document.createElement("script");tag.setAttribute("src","https://www.youtube.com/iframe_api"),document.body.appendChild(tag)}jQuery(document).ready(function(t){if(!t("body").hasClass("vc_editor")){if(navigator.userAgent.match(/(Mobi|Android)/))return void t(".gambit_video_inner").attr("style","display: none !important");t(".gambit_video_row").each(function(){var e=t(document.gambitFindElementParentRow(t(this)[0]));e.addClass("gambit_has_video_bg");var i=t("<div></div>").addClass("gambit_video_inner").css("opacity",Math.abs(parseFloat(t(this).attr("data-opacity"))/100));e.css("position","relative"),t(this).children().prependTo(i),i.prependTo(e),i[0].style.zIndex=t(this)[0].style.zIndex}),t("[data-youtube-video-id], [data-vimeo-video-id]").each(function(){var e=t(this);setTimeout(function(){resizeVideo(e)},100)}),t(window).resize(function(){t("[data-youtube-video-id], [data-vimeo-video-id]").each(function(){var e=t(this);setTimeout(function(){resizeVideo(e)},2)})}),document.querySelector(".gambit_video_self_hosted")&&(objectFitVideos(),t(".gambit_video_self_hosted").each(function(){var e=function(){this.css("visibility","visible"),this[0].removeEventListener("timeupdate",e)}.bind(t(this));t(this)[0].addEventListener("timeupdate",e),t(this)[0].play()})),t("[data-vimeo-video-id]").each(function(){var e=$f(t(this).find("iframe")[0]),i=t(this);e.addEvent("ready",function(t){e=$f(t),e.api("setVolume",0),e.addEvent("playProgress",function(t,e){i.css("visibility","visible")})})})}});